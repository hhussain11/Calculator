<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title></title>
    
  <link rel="stylesheet" href="./styles.css">

  </head>

  <body>

    <div class="calculator">

      <div class="screen">
        <div class="small-screen"></div>
        <div class="big-screen">big</div>
      </div>
      <div class="buttons">
        <div>
          <button class="number">1</button>
          <button class="number">2</button>
          <button class="number">3</button>
          <button class="add">+</button>
          <button class="subtract">-</button>
        </div>
        <div>
          <button class="number">4</button>
          <button class="number">5</button>
          <button class="number">6</button>
          <button class="times">x</button>
          <button class="divide">/</button>
        </div>
        <div>
          <button class="number">7</button>
          <button class="number">8</button>
          <button class="number">9</button>
          <button class="clear">Clear</button>
          <button class="equals">=</button>
        </div>
        <div>
          <button class="number">0</button>
        </div>

      </div>


    </div>

  </body>

  <script>

    function add(a,b) {
      
      a = +a;
      b = +b;

      return a+b;
    };

    function subtract(a,b) {
      
      a = +a;
      b = +b;

      return a-b;
    };

    function multiply(a,b) {
      
      a = +a;
      b = +b;

      return a*b;
    };

    function divide(a,b) {

      a = +a;
      b = +b;

      return a/b;
    };

    function operate(operator, a, b) {

      return operator(a,b);
    };

    let bigScreen = document.querySelector('.big-screen');
    let smallScreen = document.querySelector('.small-screen');
    let numbers = document.querySelectorAll('.number');
    let clear = document.querySelector('.clear');
    let addition = document.querySelector('.add');
    let subtraction = document.querySelector('.subtract');
    let multiplication = document.querySelector('.times');
    let division = document.querySelector('.divide');
    let equals = document.querySelector('.equals');

    let firstNumber = '';
    let secondNumber = '';
    let fn = false
    let result;
    let operation;

    smallScreen.textContent = ''


    numbers.forEach(number => number.addEventListener('click', () => {

      if (!fn) {
        firstNumber += event.srcElement.textContent;
        smallScreen.textContent += event.srcElement.textContent;
      }
      else {
        secondNumber += event.srcElement.textContent;
        smallScreen.textContent += event.srcElement.textContent;
      }
    }));
    
    clear.addEventListener('click', () => {
      bigScreen.textContent = '';
      smallScreen.textContent = '' ;

      firstNumber = '';
      secondNumber = '';
      fn = false;
    });


    addition.addEventListener('click', () => {

      if (firstNumber && !secondNumber) {
        operation = add;
        fn = true;
        smallScreen.textContent += event.srcElement.textContent;
      }
      else {
        result = operate(operation, +firstNumber, +secondNumber);
        bigScreen.textContent = result;
        firstNumber = result;
        secondNumber = '';
        operation = add;
        smallScreen.textContent += event.srcElement.textContent;
      }
    });

    subtraction.addEventListener('click', () => {
      if (firstNumber && !secondNumber) {
        operation = subtract;
        fn = true;
        smallScreen.textContent += event.srcElement.textContent;
      }
      else {
        result = operate(operation, +firstNumber, +secondNumber);
        bigScreen.textContent = result;
        firstNumber = result;
        secondNumber = '';
        operation = subtract;
        smallScreen.textContent += event.srcElement.textContent;
      }
    });

    multiplication.addEventListener('click', () => {
      if (firstNumber && !secondNumber) {
        operation = multiply;
        fn = true;
        smallScreen.textContent += event.srcElement.textContent;
      }
      else {
        result = operate(operation, +firstNumber, +secondNumber);
        bigScreen.textContent = result;
        firstNumber = result;
        secondNumber = '';
        operation = multiply;
        smallScreen.textContent += event.srcElement.textContent;
      }
    });

    division.addEventListener('click', () => {
      if (firstNumber && !secondNumber) {
        operation = divide;
        fn = true;
        smallScreen.textContent += event.srcElement.textContent;
      }
      else {
        result = operate(operation, +firstNumber, +secondNumber);
        bigScreen.textContent = result;
        firstNumber = result;
        secondNumber = '';
        operation = divide;
        smallScreen.textContent += event.srcElement.textContent;
      }
    });
  
    equals.addEventListener('click', () => {
      secondNumber = +bigScreen.textContent;
      bigScreen.textContent = operate(operation, firstNumber, secondNumber);  
    });

    




    



  </script>

</html>